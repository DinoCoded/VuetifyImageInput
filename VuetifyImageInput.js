!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("paperduck")):"function"==typeof define&&define.amd?define(["paperduck"],e):t.VuetifyImageInput=e(t.PaperDuck)}(this,function(i){"use strict";function e(t){return function(){return t}}i=i&&i.hasOwnProperty("default")?i.default:i;var t={clearable:{type:Boolean,default:!1},clearIcon:{type:[Function,String],default:function(){return this.$vuetify.icons.clear}},flipHorizontallyIcon:{type:[Function,String],default:"flip"},flipHorizontallyIconStyle:[Function,Object],flipHorizontallyText:{type:[Function,String],default:"flip horizontally"},flipVerticallyIcon:{type:[Function,String],default:"flip"},flipVerticallyIconStyle:{type:[Function,Object],default:e({transform:"rotate(90deg)"})},flipVerticallyText:{type:[Function,String],default:"flip vertically"},hideActions:{type:Boolean,default:!1},imageEncoderOptions:{},imageHeight:{type:Number,default:256},imageType:{type:String,default:"png"},imageWidth:{type:Number,default:256},rotateClockwiseIcon:{type:[Function,String],default:"rotate_90_degrees_ccw"},rotateClockwiseIconStyle:{type:[Function,Object],default:e({transform:"scaleX(-1)"})},rotateClockwiseText:{type:[Function,String],default:"rotate clockwise"},rotateCounterclockwiseIcon:{type:[Function,String],default:"rotate_90_degrees_ccw"},rotateCounterclockwiseIconStyle:[Function,Object],rotateCounterclockwiseText:{type:[Function,String],default:"rotate counterclockwise"},value:String};var n={image:{get:function(){return this.lazyImage},set:function(t){this.lazyImage=t,this.$emit("input",this.internalValue)}},internalValue:function(){return this.image?this.image.toDataURL("image/"+this.imageType,this.imageEncoderOptions):null}},o={value:{handler:function(t){this.internalValue!==t&&(this.lazyImage=i.from(t))},immediate:!0}};function a(){}var l={clear:function(){this.image=null},flipHorizontally:function(){this.image=this.image.flop()},flipVertically:function(){this.image=this.image.flip()},rotateClockwise:function(){this.image=this.image.rotate90()},rotateCounterclockwise:function(){this.image=this.image.rotate270()},upload:function(){var e=this,t=document.createElement("input");t.type="file",t.addEventListener("change",function(){i.load(t).then(function(t){e.image=t.scaleMin(e.imageWidth,e.imageHeight)}).catch(a)}),t.click()}};function B(t){return"function"==typeof t?t:e(t)}var L="url('data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2" fill-opacity="0.2"><rect x="1" width="1" height="1"/><rect y="1" width="1" height="1"/></svg>')+"')";var r={name:"VImageInput",props:t,data:function(){return{lazyImage:void 0}},computed:n,watch:o,methods:l,render:function(r){var c=this,t=this,e=t.clearable,i=t.image,n=t.imageHeight,o=t.imageWidth,a=t.hideActions;if(i){var l=r("img",{attrs:{src:i.toDataURL()}}),u=[];if(e){var s=this.clear,p=this.clearIcon;p=B(p).call(this);var f=r("v-icon",p),d=r("v-btn",{props:{flat:!0,icon:!0},on:{click:s}},[f]),y=r("v-spacer");u.push(d,y)}if(!a){var g=this,h=g.flipHorizontally,m=g.flipHorizontallyIcon,v=g.flipHorizontallyIconStyle,w=g.flipHorizontallyText,I=g.flipVertically,k=g.flipVerticallyIcon,x=g.flipVerticallyIconStyle,b=g.flipVerticallyText,C=g.rotateClockwise,S=g.rotateClockwiseIcon,V=g.rotateClockwiseIconStyle,z=g.rotateClockwiseText,F=g.rotateCounterclockwise,H=g.rotateCounterclockwiseIcon,T=g.rotateCounterclockwiseIconStyle,j=g.rotateCounterclockwiseText,O=function(t,e,i,n){t=B(t).call(c),e=B(e).call(c),i=B(i).call(c);var o,a=r("v-icon",{style:i},m),l={props:{flat:!0,icon:!0},on:{click:n}};return t?(l.slot="activator",o=r("v-btn",l,[a]),o=r("v-tooltip",{props:{right:!0}},[o,r("span",t)])):o=r("v-btn",l,[a]),o};u.push(O(w,m,v,h),O(b,k,x,I),O(z,S,V,C),O(j,H,T,F))}if(u.length){var _=r("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"center"}},u),D=r("div",{style:{alignItems:"center",backgroundImage:L,backgroundRepeat:"repeat",backgroundSize:"16px 16px",display:"flex",height:n+"px",justifyContent:"center",width:o+"px"}},[l]),E=r("div",{style:{display:"flex"}},[D,_]);return r("div",{style:{display:"inline"}},[E])}return l}var R=r("v-icon","cloud_upload"),W=r("v-btn",{props:{color:"primary",fab:!0,large:!0},on:{click:this.upload}},[R]);return r("div",{style:{alignItems:"center",backgroundColor:"#eeeeee",border:"1px dashed #bdbdbd",borderRadius:"8px",display:"inline-flex",height:n+"px",justifyContent:"center",width:o+"px"}},[W])}};return"undefined"!=typeof window&&window.Vue&&window.Vue.component(r.name,r),r});
