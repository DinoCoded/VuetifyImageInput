!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t=t||self).VuetifyImageInput=o()}(this,(function(){"use strict";var t=2*Math.PI;function o(){}var i={type:Boolean,default:!1},e={type:Boolean,default:!1},n={type:Boolean,default:!1},r={type:Boolean,default:!1},a={type:Boolean,default:!1},l={type:Boolean,default:!1},s={type:Boolean,default:!1},d={type:Boolean,default:!1},c={type:Boolean,default:!1};var p={functional:!0,render:function(t,o){var i=o.listeners,e=o.parent,n=o.props;return t("VBtn",{class:"ma-1",props:{disabled:e.disabled,flat:!0,icon:!0},on:i},[t("VIcon",n.icon)])}};var u={functional:!0,render:function(t,o){var i=o.parent,e=i.clear,n=i.clearIcon;return t(p,{props:{icon:n},on:{click:e}})}};var f={functional:!0,render:function(t,o){var i=o.parent,e=i.flipHorizontally,n=i.flipHorizontallyIcon;return t(p,{props:{icon:n},on:{click:e}})}};var h={functional:!0,render:function(t,o){var i=o.parent,e=i.flipVertically,n=i.flipVerticallyIcon;return t(p,{props:{icon:n},on:{click:e}})}};var m={functional:!0,render:function(t,o){var i=o.parent,e=i.rotateClockwise,n=i.rotateClockwiseIcon;return t(p,{props:{icon:n},on:{click:e}})}};var g={functional:!0,render:function(t,o){var i=o.parent,e=i.rotateCounterClockwise,n=i.rotateCounterClockwiseIcon;return t(p,{props:{icon:n},on:{click:e}})}};var y={functional:!0,render:function(t,o){var i=o.parent,e=i.disabled,n=i.overriddenMaxZoom,r=i.overriddenMinZoom,a=i.setZoom,l=i.zoom,s=i.zoomIn,d=i.zoomInIcon,c=i.zoomOut;return t("VSlider",{class:"ma-1",props:{appendIcon:d,disabled:e,hideDetails:!0,max:n,min:r,prependIcon:i.zoomOutIcon,step:i.zoomSnap,value:l},on:{"click:append":s,"click:prepend":c,input:a}})}};var b={computed:{dark:function(){return this.theme.isDark},overriddenMaxZoom:function(){return Math.max(this.maxZoom,this.overriddenMinZoom)},overriddenMinZoom:function(){var t=this.imageWidth/function(t,o,i){return Math.floor(t*Math.abs(Math.cos(i))+o*Math.abs(Math.sin(i)))}(this.originalImageWidth,this.originalImageHeight,this.rotationRadians),o=this.imageHeight/function(t,o,i){return Math.floor(t*Math.abs(Math.sin(i))+o*Math.abs(Math.cos(i)))}(this.originalImageWidth,this.originalImageHeight,this.rotationRadians);switch(this.minZoom){case"cover":return Math.max(t,o);case"contain":return Math.min(t,o)}return 0},rotationRadians:function(){return this.rotationTurns*t},zoom:{get:function(){return t=this.dirtyZoom,o=this.overriddenMinZoom,i=this.overriddenMaxZoom,Math.min(Math.max(t,o),i);var t,o,i},set:function(t){this.dirtyZoom=t}},zoomDelta:function(){return(this.overriddenMaxZoom-this.overriddenMinZoom)/10},zoomSnap:function(){return(this.overriddenMaxZoom-this.overriddenMinZoom)/1e3}},data:function(){return{dirtyZoom:0,flippedHorizontally:!1,flippedVertically:!1,image:!1,originalImageHeight:800,originalImageWidth:640,rotationTurns:0,translationHorizontally:0,translationVertically:0,cancelLoad:o,loadError:!1,loading:!1,loadProgress:0,loadSuccess:!1}},inject:{theme:{default:{isDark:!1}}},methods:{clear:function(){},flipHorizontally:function(){this.flippedHorizontally=!this.flippedHorizontally},flipVertically:function(){this.flippedVertically=!this.flippedVertically},rotate:function(t){this.flippedHorizontally!==this.flippedVertically&&(t*=-1),this.rotationTurns+=t},rotateClockwise:function(){this.rotate(1/3)},rotateCounterClockwise:function(){this.rotate(-1/3)},setZoom:function(t){this.zoom=t},translateHorizontally:function(t){this.flippedHorizontally&&(t*=-1),t/=this.zoom,this.translationHorizontally+=t*Math.cos(this.rotationRadians),this.translationVertically-=t*Math.sin(this.rotationRadians)},translateVertically:function(t){this.flippedVertically&&(t*=-1),t/=this.zoom,this.translationHorizontally+=t*Math.sin(this.rotationRadians),this.translationVertically+=t*Math.cos(this.rotationRadians)},zoomIn:function(){this.zoom+=this.zoomDelta},zoomOut:function(){this.zoom-=this.zoomDelta}},name:"VImageInput",props:{cancelIcon:{type:String,default:"$cancel"},clearable:i,clearIcon:{type:String,default:"$clear"},disabled:e,errorIcon:{type:String,default:"$error"},flipHorizontallyIcon:{type:String,default:"mdi-flip-horizontal"},flippable:n,flipVerticallyIcon:{type:String,default:"mdi-flip-vertical"},fullHeight:r,fullWidth:a,imageBackgroundColor:String,imageHeight:{type:Number,default:256},imageMaxHeight:{type:Number,default:512},imageMaxWidth:{type:Number,default:512},imageMinHeight:{type:Number,default:128},imageMinWidth:{type:Number,default:128},imageWidth:{type:Number,default:256},maxZoom:{type:Number,default:1},minZoom:{type:String,default:"cover"},resetable:l,resizable:s,rotatable:d,rotateClockwiseIcon:{type:String,default:"mdi-rotate-right"},rotateCounterClockwiseIcon:{type:String,default:"mdi-rotate-left"},successIcon:{type:String,default:"$success"},uploadIcon:{type:String,default:"mdi-upload"},value:String,zoomable:c,zoomInIcon:{type:String,default:"mdi-magnify-plus-outline"},zoomOutIcon:{type:String,default:"mdi-magnify-minus-outline"}},render:function(t){var o=this,i=o.clearable,e=o.flippable,n=o.flippedHorizontally,r=o.flippedVertically,a=o.fullHeight,l=o.fullWidth,s=o.image,d=o.imageHeight,c=o.imageWidth,p=o.resizable,b=o.rotatable,v=o.rotationTurns,z=o.translationHorizontally,x=o.translationVertically,I=o.zoom,k=o.zoomable,M=o.cancelIcon,C=o.disabled,V=o.errorIcon,w=o.dark,A=o.loadError,S=o.loading,H=o.loadProgress,Z=o.loadSuccess,R=o.successIcon,B=o.uploadIcon,j=o.uploadIconStyle;return t("div",{style:Object.assign({},{display:["-ms-inline-grid","inline-grid"],gridColumns:"1fr auto",gridRows:"1fr auto",gridTemplateColumns:"1fr auto",gridTemplateRows:"1fr auto"},a?{height:"100%"}:{},l?{width:"100%"}:{})},[t("div",{style:{gridColumn:1,gridRow:1,position:"relative"}},[t("div",{style:{height:d+"px",margin:"50px",width:c+"px"}}),t("VFadeTransition",{props:{leaveAbsolute:!0}},[s?t("div",{style:{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC) repeat",border:"1px solid #ccc",borderRadius:"4px",bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0},key:"anlq"},[t("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)",width:c+"px",height:d+"px"}},[t("img",{style:{bottom:"50%",position:"absolute",right:"50%",transform:["translate(50%,50%)","scale("+I+")","scale("+[n?-1:1,r?-1:1].join(",")+")","rotate("+v+"turn)","translate("+[z+"px",x+"px"].join(",")+")"].join(" "),transition:"all 0.3s"},attrs:{src:"/demo/image.jpg"}}),t("div",{style:{bottom:0,boxShadow:"0 0 4000px 4000px rgba(0,0,0,0.5)",left:0,position:"absolute",right:0,top:0}}),t("div",{style:{backgroundColor:"#fff",bottom:"100%",height:"4px",left:0,position:"absolute",right:0}}),t("div",{style:{backgroundColor:"#fff",bottom:"100%",height:"4px",left:"100%",position:"absolute",width:"4px"}}),t("div",{style:{backgroundColor:"#fff",bottom:0,position:"absolute",right:"100%",top:0,width:"4px"}}),t("div",{style:{backgroundColor:"#fff",height:"4px",left:"100%",position:"absolute",top:"100%",width:"4px"}}),t("div",{style:{backgroundColor:"#fff",height:"4px",left:0,position:"absolute",right:0,top:"100%"}}),t("div",{style:{backgroundColor:"#fff",height:"4px",position:"absolute",right:"100%",top:"100%",width:"4px"}}),t("div",{style:{backgroundColor:"#fff",bottom:0,left:"100%",position:"absolute",top:0,width:"4px"}}),t("div",{style:Object.assign({},{backgroundColor:"#fff",bottom:"100%",height:"4px",position:"absolute",right:"100%",width:"4px"},p?{cursor:"nwse-resize"}:{})})])]):t("div",{style:{alignItems:"center",borderColor:w?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.42)",borderRadius:"4px",borderStyle:"dashed",borderWidth:"4px",cursor:C||S?void 0:"pointer",display:"flex",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.5, 1)",bottom:0,left:0,position:"absolute",right:0,top:0},key:"szrj"},[t("VSlideYTransition",{props:{leaveAbsolute:!0}},[Z?t("VIcon",{props:{color:"success",size:"64px"},key:1},R):A?t("VIcon",{props:{color:"error",size:"64px"},key:2},V):S?t("VProgressCircular",{props:{color:"primary",indeterminate:!H,rotate:-90,size:128,value:100*H,width:16}},[t("VBtn",{props:{icon:!0,large:!0,text:!0},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[t("VIcon",M)])]):t("VIcon",{style:j,props:{color:w?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",size:"128px"},key:0},B)])])])]),t("div",{style:Object.assign({},{display:"flex",flexDirection:"column",gridColumn:2,gridRow:1,justifyContent:"center",transition:"opacity 0.3s cubic-bezier(0.25,0.8,0.5,1)"},s?{}:{opacity:0,pointerEvents:"none"})},(i?[t(u),t("VSpacer")]:[]).concat(b?[t(m),t(g)]:[],e?[t(f),t(h)]:[])),t("div",{style:Object.assign({},{gridColumn:1,gridRow:2,transition:"opacity 0.3s cubic-bezier(0.25,0.8,0.5,1)"},s?{}:{opacity:0,pointerEvents:"none"})},k?[t(y)]:[])])}},v=globalThis.window;if(v){var z=v.Vue;z&&z.component(b.name,b)}return b}));
