!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t=t||self).VuetifyImageInput=o()}(this,(function(){"use strict";var t=2*Math.PI;var o={computedMaxZoom:function(){return Math.max(this.maxZoom,this.computedMinZoom)},computedMinZoom:function(){switch(this.minZoom){case"cover":return Math.max(this.relativeRotatedInternalImageWidth,this.relativeRotatedInternalImageHeight);case"contain":return Math.min(this.relativeRotatedInternalImageWidth,this.relativeRotatedInternalImageHeight)}return 0},rotationRadians:function(){return this.rotationTurns*t},zoomDelta:function(){return(this.computedMaxZoom-this.computedMinZoom)/10},zoomSnap:function(){return(this.computedMaxZoom-this.computedMinZoom)/1e3}};var e={clear:function(){},flipHorizontally:function(){this.flippedHorizontally=!this.flippedHorizontally},flipVertically:function(){this.flippedVertically=!this.flippedVertically},rotate:function(t){this.flippedHorizontally!==this.flippedVertically&&(t*=-1),this.rotationTurns+=t},rotateClockwise:function(){this.rotate(1/3)},rotateCounterClockwise:function(){this.rotate(-1/3)},setZoom:function(t){this.zoom=t},translateHorizontally:function(t){this.flippedHorizontally&&(t*=-1),t/=this.zoom,this.translationHorizontally+=t*Math.cos(this.rotationRadians),this.translationVertically-=t*Math.sin(this.rotationRadians)},translateVertically:function(t){this.flippedVertically&&(t*=-1),t/=this.zoom,this.translationHorizontally+=t*Math.sin(this.rotationRadians),this.translationVertically+=t*Math.cos(this.rotationRadians)},zoomIn:function(){this.zoom+=this.zoomDelta},zoomOut:function(){this.zoom-=this.zoomDelta}},i={type:Boolean,default:!1},n={type:Boolean,default:!1},a={type:Boolean,default:!1},r={type:Boolean,default:!1},l={type:Boolean,default:!1},c={type:Boolean,default:!1},s={type:Boolean,default:!1},p={type:Boolean,default:!1},d={cancelIcon:{type:String,default:"$cancel"},clearable:i,clearIcon:{type:String,default:"$clear"},disabled:n,errorIcon:{type:String,default:"$error"},flipHorizontallyIcon:{type:String,default:"mdi-flip-horizontal"},flippable:a,flipVerticallyIcon:{type:String,default:"mdi-flip-vertical"},fullHeight:r,fullWidth:l,hideActions:c,imageBackgroundColor:String,imageHeight:{type:Number,default:256},imageWidth:{type:Number,default:256},maxZoom:{type:Number,default:1},minZoom:{type:String,default:"cover"},rotatable:s,rotateClockwiseIcon:{type:String,default:"mdi-rotate-right"},rotateCounterClockwiseIcon:{type:String,default:"mdi-rotate-left"},successIcon:{type:String,default:"$success"},uploadIcon:{type:String,default:"mdi-upload"},value:String,zoomable:p,zoomInIcon:{type:String,default:"mdi-magnify-plus-outline"},zoomOutIcon:{type:String,default:"mdi-magnify-minus-outline"}};var u={functional:!0,render:function(t,o){var e=o.listeners,i=o.parent,n=o.props;return t("VBtn",{class:"ma-1",props:{disabled:i.disabled,flat:!0,icon:!0},on:e},[t("VIcon",n.icon)])}};var f={functional:!0,render:function(t,o){var e=o.parent,i=e.clear,n=e.clearIcon;return t(u,{props:{icon:n},on:{click:i}})}};var m={functional:!0,render:function(t,o){var e=o.parent,i=e.flipHorizontally,n=e.flipHorizontallyIcon;return t(u,{props:{icon:n},on:{click:i}})}};var h={functional:!0,render:function(t,o){var e=o.parent,i=e.flipVertically,n=e.flipVerticallyIcon;return t(u,{props:{icon:n},on:{click:i}})}};var g={functional:!0,render:function(t,o){var e=o.parent,i=e.rotateClockwise,n=e.rotateClockwiseIcon;return t(u,{props:{icon:n},on:{click:i}})}};var y={functional:!0,render:function(t,o){var e=o.parent,i=e.rotateCounterClockwise,n=e.rotateCounterClockwiseIcon;return t(u,{props:{icon:n},on:{click:i}})}};var v={functional:!0,render:function(t,o){var e=o.parent,i=e.computedMaxZoom,n=e.computedMinZoom,a=e.disabled,r=e.setZoom,l=e.zoom,c=e.zoomIn,s=e.zoomInIcon,p=e.zoomOut;return t("VSlider",{class:"ma-1",props:{appendIcon:s,disabled:a,hideDetails:!0,max:i,min:n,prependIcon:e.zoomOutIcon,step:e.zoomSnap,value:l},on:{"click:append":c,"click:prepend":p,input:r}})}},I="#fff url('data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2" fill-opacity="0.2"><rect x="1" width="1" height="1"/><rect y="1" width="1" height="1"/></svg>')+"') repeat center center / 16px 16px";var z={name:"VImageInput",props:d,data:function(){return{flippedHorizontally:!1,flippedVertically:!1,image:!0,originalImageHeight:150,originalImageWidth:250,rotationTurns:0,translationHorizontally:0,translationVertically:0,zoom:1}},computed:o,methods:e,render:function(t){var o=this,e=o.clearable,i=o.flippable,n=o.flippedHorizontally,a=o.flippedVertically,r=o.fullHeight,l=o.fullWidth,c=o.image,s=o.imageHeight,p=o.imageWidth,d=o.originalImageHeight,u=o.originalImageWidth,z=o.rotatable,b=o.rotationTurns,x=o.translationHorizontally,w=o.translationVertically,H=o.zoom,V=o.zoomable;return t("div",{style:Object.assign({},{display:["-ms-inline-grid","inline-grid"],gridColumns:"1fr auto",gridRows:"1fr auto",gridTemplateColumns:"1fr auto",gridTemplateRows:"1fr auto"},r?{height:"100%"}:{},l?{width:"100%"}:{})},[t("div",{style:{gridColumn:1,gridRow:1,position:"relative"}},[t("div",{style:{height:s+"px",margin:"50px",width:p+"px"}}),t("div",{style:{background:I,border:"1px solid #ccc",borderRadius:"4px",bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0}},[t("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},[t("div",{style:{transform:["scale("+H+")","scale("+[n?-1:1,a?-1:1].join(",")+")","rotate("+b+"turn)","translate("+[x+"px",w+"px"].join(",")+")"].join(" "),transition:"all 0.3s"}},[t("div",{style:{alignItems:"center",backgroundColor:"#ff0",color:"#00f",display:"flex",fontSize:"64px",height:d+"px",justifyContent:"center",width:u+"px"}},"IMAGE")])]),t("div",{style:{border:"4px solid #fff",bottom:"50%",boxShadow:"0 0 4000px 4000px rgba(0,0,0,0.5)",height:s+"px",pointerEvents:"none",position:"absolute",right:"50%",transform:"translate(50%,50%)",width:p+"px"}})])]),t("div",{style:Object.assign({},{display:"flex",flexDirection:"column",gridColumn:2,gridRow:1,justifyContent:"center",transition:"opacity 0.3s cubic-bezier(0.25,0.8,0.5,1)"},c?{}:{opacity:0,pointerEvents:"none"})},(e?[t(f),t("VSpacer")]:[]).concat(z?[t(g),t(y)]:[],i?[t(m),t(h)]:[])),t("div",{style:Object.assign({},{gridColumn:1,gridRow:2,transition:"opacity 0.3s cubic-bezier(0.25,0.8,0.5,1)"},c?{}:{opacity:0,pointerEvents:"none"})},V?[t(v)]:[])])}};return"undefined"!=typeof window&&window.Vue&&window.Vue.component(z.name,z),z}));
