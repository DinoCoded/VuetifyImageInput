!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VuetifyImageInput=t()}(this,(function(){"use strict";var e={functional:!0,render:function(e,t){var n=t.data,o=t.parent,r=o.disabled,a=o.errorIcon,i=o.errorIconStyle,l=o.loadError,c=o.load,d=o.loadSuccess,s=(o.loading,o.progress,o.successIcon),u=o.successIconStyle,g=o.uploadIcon,f=o.uploadIconStyle,p=n.style;return e("div",{style:Object.assign({},p,{alignItems:"center",display:"flex",justifyContent:"center"})},[e("VFadeTransition",{props:{leaveAbsolute:!0}},[d?e("VIcon",{style:u,props:{color:"success",large:!0},key:1},s):l?e("VIcon",{style:i,props:{color:"error",large:!0},key:2},a):e("VBtn",{props:{disabled:r,icon:!0,large:!0,text:!0},on:{click:function(e){e.preventDefault();var t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",(function(e){e.preventDefault();var t=e.target.files;t&&t.length&&c(t[0])})),t.click()}},key:0},[e("VIcon",{style:f,props:{large:!0}},g)])])])}};function t(){}function n(e){return new Promise((function(t){t(e())}))}var o={load:function(e){var o=this;n((function(){var r=o.cancel;r();var a=!1,i=function(){if(a)throw 0},l=t;return r=function(){a=!0,l()},Object.assign(o,{cancel:r,loadError:!1,loadSuccess:!1,loading:!0,progress:0}),n((function(){i();var n=new FileReader,r=new Promise((function(e,t){n.addEventListener("progress",(function(e){e.lengthComputable&&Object.assign(o,{progress:e.loadSuccess/e.total})})),n.addEventListener("load",e),n.addEventListener("abort",t),n.addEventListener("error",t)}));return l=function(){n.abort()},n.readAsDataURL(e),r.then((function(){i();var e=new Image,r=new Promise((function(t,n){e.addEventListener("load",t),e.addEventListener("error",n)}));return l=t,e.src=n.result,r.then((function(){i(),Object.assign(o,{loadSuccess:!0,originalImage:e,originalImageDataURL:e.src,originalImageHeight:e.naturalHeight,originalImageWidth:e.naturalWidth})}))}))})).catch((function(){a||Object.assign(o,{loadError:!0})})).finally((function(){a||Object.assign(o,{cancel:t,loading:!1})}))}))}},r={type:Boolean,default:!1},a={type:Boolean,default:!1},i={type:Boolean,default:!1},l={type:Boolean,default:!1},c={type:Boolean,default:!1},d={type:Boolean,default:!1};var s={name:"VImageInput",components:{MyImageLoad:e},props:{clearable:r,clearIcon:{type:String,default:"$clear"},clearIconStyle:Object,debounce:{type:Number,default:0},disabled:a,errorIcon:{type:String,default:"$error"},errorIconStyle:Object,flipHorizontallyIcon:{type:String,default:"mdi-flip-horizontal"},flipHorizontallyIconStyle:Object,flipVerticallyIcon:{type:String,default:"mdi-flip-vertical"},flipVerticallyIconStyle:Object,fullHeight:i,fullWidth:l,hideActions:c,imageBackgroundColor:String,imageFormat:{type:String,default:"png"},imageHeight:{type:Number,default:256},imageMaxScaling:{type:Number,default:1},imageMinScaling:{type:String,default:"cover"},imageQuality:{},imageWidth:{type:Number,default:256},name:String,overlayBackgroundColor:{type:String,default:"rgba(0,0,0,0.5)"},overlayBorderColor:{type:String,default:"#fff"},overlayBorderWidth:{type:String,default:"4px"},overlayPadding:{type:String,default:"50px"},readonly:d,rotateClockwiseIcon:{type:String,default:"mdi-rotate-right"},rotateClockwiseIconStyle:Object,rotateCounterClockwiseIcon:{type:String,default:"mdi-rotate-left"},rotateCounterClockwiseIconStyle:Object,successIcon:{type:String,default:"$success"},successIconStyle:Object,uploadIcon:{type:String,default:"mdi-upload"},uploadIconStyle:Object,value:String,backgroundColor:{},maxScaling:{},minScaling:{},rotateCounterclockwiseIcon:{},rotateCounterclockwiseIconStyle:{},scalingSliderColor:{}},data:function(){return{cancel:t,loadError:!1,loadSuccess:!1,loading:!1,originalImage:null,originalImageDataURL:null,originalImageHeight:0,originalImageWidth:0,progress:0}},methods:o,render:function(e){var t=this.fullHeight,n=this.fullWidth,o=this.loadError,r=this.loadSuccess,a=this.loading,i=this.progress;return e("div",{style:Object.assign({},t?{height:"100%"}:{},n?{width:"100%"}:{})},[e("MyImageLoad",{style:{height:"100%",width:"100%"}}),e("div","loadError: "+o),e("div","loadSuccess: "+r),e("div","loading: "+a),e("div","progress: "+i)])}};return"undefined"!=typeof window&&window.Vue&&window.Vue.component(s.name,s),s}));
